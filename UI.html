<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vue Todo</title>
  <style>
    .completed {
      text-decoration: line-through;
      text-decoration-color: brown;
    }

    .empty {
      border-color: red;
    }
  </style>
</head>
<body>
<div id="todo-app">
  <div>
    <input type="button" value="全部标为完成"/>
    <input  type="text" 
            placeholder="添加 todo" 
            v-model="newTodoTitle" 
            @keyup.enter="addTodo"
            v-bind:class="{empty:!newTodoTitle}"/>
  </div>
  <!-- todo list -->
  <ul>
    <li v-for='todo in todos' :key='todo.id'>
      <span :class="{completed: todo.completed}">{{ todo.title }}</span>
      <input type="button" value="标为完成" @click="markAsCompleted(todo)" v-if="!todo.completed">
      <input type="button" value="未完成" @click="markAsUncompleted(todo)" v-else>
      <input type="button" value="删除" @click="removeTodo(todo)">
      <input type="text" value="编辑 todo..."/>
    </li>
  </ul>
  <!-- end todo list -->
</div>
<script src="https://cdn.bootcss.com/vue/2.5.16/vue.js"></script>
<script>
    let id = 0;
    var app = new Vue({
        el: '#todo-app',
        data: function () {
            return {
                todos: [],
                newTodoTitle: ''  
            }
        },
        methods:{
            addTodo:function(){
              if(this.newTodoTitle == ''){
                alert('请输入内容')
              }else{
                this.todos.push({id: id++,title: this.newTodoTitle,completed: false});
              };
            },
            markAsCompleted: function(todo){
              todo.completed = true
            },
            markAsUncompleted: function(todo){
              todo.completed = false
            },
            removeTodo: function(todo) {
              if(!confirm('确认删除?')){return}
              this.todos.splice(this.todos.indexOf(todo),1)
            } 
        }
    })
</script>
</body>
</html>